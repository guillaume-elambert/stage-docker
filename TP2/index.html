<!DOCTYPE html>
<html data-color-mode="dark" data-light-theme="light" data-dark-theme="dark">
  <head>
    <meta charset="UTF-8">
    <style>
      :root {
        --svg-size : 2rem;
        --rounded-corner: 0.5em;
      }

      #theme-chooser {
        border : solid 2px var(--color-scale-gray-9);
        border-bottom-right-radius: var(--rounded-corner);
        border-bottom-left-radius: var(--rounded-corner);
        border-top : none;
        /*pointer-events: none;*/
        position: fixed;
        top: 0;
        right: 1rem;
        width: calc(var(--svg-size) * 5);
        display: flex;
        justify-content: space-around;
        /*color-scheme: light;*/
        background: var(--color-scale-gray-2);
      }

      #theme-chooser button {
        padding : 0;
        margin : 2px;
        width: var(--svg-size);
        height: var(--svg-size);
        border-radius : var(--rounded-corner);
        background-color: transparent;
        border : none;
      }

      #theme-chooser img {
        width: 100%;
        height: 100%;
        border-radius: var(--rounded-corner);
        cursor: pointer !important;
      }

      #theme-chooser button.active {        
        background: var(--color-scale-gray-5);
      }
    </style>
    <link href="https://unpkg.com/@primer/css@^16.0.0/dist/primer.css" rel="stylesheet" />
    <script defer>
      const root = document.querySelector("html");
      function setActive(element){
        var active = document.querySelector("#theme-chooser > .active")
        if(active)
          active.classList.toggle("active");
        element.classList.toggle("active");
      }

      function setTheme(colorMode, dataLight, dataDark){
        root.setAttribute("data-color-mode", colorMode);
        root.setAttribute("data-light-theme", dataLight);
        root.setAttribute("data-dark-theme", dataDark);
      }
    </script>
  </head>
  <body>
    <div id="theme-chooser">
      <button id="light" class="" onclick="setActive(this); setTheme('light', 'light', 'dark')"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAxNzIgMTcyIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0ibm9uZSIgZm9udC13ZWlnaHQ9Im5vbmUiIGZvbnQtc2l6ZT0ibm9uZSIgdGV4dC1hbmNob3I9Im5vbmUiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48cGF0aCBkPSJNMCwxNzJ2LTE3MmgxNzJ2MTcyeiIgZmlsbD0ibm9uZSI+PC9wYXRoPjxnIGZpbGw9IiMwMDAwMDAiPjxwYXRoIGQ9Ik04NS42Nzc1LDEzLjY1MjVjLTAuMTQ3ODEsMC4wMjY4OCAtMC4yOTU2MiwwLjA2NzE5IC0wLjQzLDAuMTA3NWMtMS41OTkwNiwwLjM2MjgxIC0yLjcyNzgxLDEuODAwNjMgLTIuNjg3NSwzLjQ0djIwLjY0Yy0wLjAxMzQ0LDEuMjM2MjUgMC42MzE1NiwyLjM5MTg4IDEuNzA2NTYsMy4wMjM0NGMxLjA3NSwwLjYxODEzIDIuMzkxODcsMC42MTgxMyAzLjQ2Njg3LDBjMS4wNzUsLTAuNjMxNTYgMS43MiwtMS43ODcxOSAxLjcwNjU2LC0zLjAyMzQ0di0yMC42NGMwLjA0MDMxLC0wLjk5NDM3IC0wLjM2MjgxLC0xLjk0ODQ0IC0xLjA3NSwtMi42MjAzMWMtMC43MjU2MiwtMC42ODUzMSAtMS43MDY1NiwtMS4wMjEyNSAtMi42ODc1LC0wLjkyNzE5ek0zNi42NTc1LDMzLjg2MjVjLTEuMjksMC4yMjg0NCAtMi4zMjQ2OSwxLjE2OTA2IC0yLjY4NzUsMi40MTg3NWMtMC4zNjI4MSwxLjI2MzEzIDAuMDEzNDQsMi42MDY4OCAwLjk2NzUsMy40OTM3NWwxNC42MiwxNC42MmMwLjgzMzEzLDEuMDIxMjUgMi4xNjM0NCwxLjQ5MTU2IDMuNDUzNDQsMS4xOTU5NGMxLjI3NjU2LC0wLjI5NTYyIDIuMjg0MzgsLTEuMzAzNDQgMi41OCwtMi41OGMwLjI5NTYzLC0xLjI5IC0wLjE3NDY5LC0yLjYyMDMxIC0xLjE5NTk0LC0zLjQ1MzQ0bC0xNC42MiwtMTQuNjJjLTAuNzEyMTksLTAuNzY1OTQgLTEuNzQ2ODcsLTEuMTU1NjIgLTIuNzk1LC0xLjA3NWMtMC4xMDc1LDAgLTAuMjE1LDAgLTAuMzIyNSwwek0xMzQuMjY3NSwzMy44NjI1Yy0wLjc3OTM3LDAuMTA3NSAtMS41MDUsMC40OTcxOSAtMi4wNDI1LDEuMDc1bC0xNC42MiwxNC42MmMtMS4wMjEyNSwwLjgzMzEzIC0xLjQ5MTU2LDIuMTYzNDQgLTEuMTk1OTQsMy40NTM0NGMwLjI5NTYyLDEuMjc2NTYgMS4zMDM0NCwyLjI4NDM4IDIuNTgsMi41OGMxLjI5LDAuMjk1NjMgMi42MjAzMSwtMC4xNzQ2OSAzLjQ1MzQ0LC0xLjE5NTk0bDE0LjYyLC0xNC42MmMxLjA3NSwtMS4wMjEyNSAxLjM4NDA2LC0yLjYyMDMxIDAuNzUyNSwtMy45NjQwNmMtMC42NDUsLTEuMzU3MTkgLTIuMDY5MzcsLTIuMTM2NTYgLTMuNTQ3NSwtMS45NDg0NHpNODUuNjc3NSw1MS42Yy0wLjEwNzUsMC4wMjY4OCAtMC4yMTUsMC4wNjcxOSAtMC4zMjI1LDAuMTA3NWMtMC4yMTUsMC4wMTM0NCAtMC40MywwLjA1Mzc1IC0wLjY0NSwwLjEwNzVjLTAuMDQwMzEsMC4wNDAzMSAtMC4wNjcxOSwwLjA2NzE5IC0wLjEwNzUsMC4xMDc1Yy0xOC4yNDgxMiwwLjc3OTM4IC0zMy4wMDI1LDE1LjY0MTI1IC0zMy4wMDI1LDM0LjA3NzVjMCwxOC45MzM0NCAxNS40NjY1NiwzNC40IDM0LjQsMzQuNGMxOC45MzM0NCwwIDM0LjQsLTE1LjQ2NjU2IDM0LjQsLTM0LjRjMCwtMTguMzY5MDYgLTE0LjYzMzQ0LC0zMy4xNzcxOSAtMzIuNzg3NSwtMzQuMDc3NWMtMC4xMjA5NCwwIC0wLjIwMTU2LC0wLjEwNzUgLTAuMzIyNSwtMC4xMDc1Yy0wLjM0OTM3LC0wLjEzNDM3IC0wLjcxMjE5LC0wLjIwMTU2IC0xLjA3NSwtMC4yMTVjLTAuMDY3MTksMCAtMC4xNDc4MSwwIC0wLjIxNSwwYy0wLjEwNzUsMCAtMC4yMTUsMCAtMC4zMjI1LDB6TTg1Ljc4NSw1OC40OGMwLjA2NzE5LDAgMC4xNDc4MSwwIDAuMjE1LDBjMC4xMDc1LDAgMC4yMTUsMCAwLjMyMjUsMGMxNS4wNSwwLjE3NDY5IDI3LjE5NzUsMTIuNDI5NjkgMjcuMTk3NSwyNy41MmMwLDE1LjIxMTI1IC0xMi4zMDg3NSwyNy41MiAtMjcuNTIsMjcuNTJjLTE1LjE5NzgxLDAgLTI3LjUyLC0xMi4zMDg3NSAtMjcuNTIsLTI3LjUyYzAsLTE1LjEzMDYyIDEyLjIwMTI1LC0yNy4zOTkwNiAyNy4zMDUsLTI3LjUyek0xNi4yMzI1LDgyLjU2Yy0xLjg5NDY5LDAuMjY4NzUgLTMuMjI1LDIuMDI5MDYgLTIuOTU2MjUsMy45MjM3NWMwLjI2ODc1LDEuODk0NjkgMi4wMjkwNiwzLjIyNSAzLjkyMzc1LDIuOTU2MjVoMjAuNjRjMS4yMzYyNSwwLjAxMzQ0IDIuMzkxODgsLTAuNjMxNTYgMy4wMjM0NCwtMS43MDY1NmMwLjYxODEzLC0xLjA3NSAwLjYxODEzLC0yLjM5MTg3IDAsLTMuNDY2ODdjLTAuNjMxNTYsLTEuMDc1IC0xLjc4NzE5LC0xLjcyIC0zLjAyMzQ0LC0xLjcwNjU2aC0yMC42NGMtMC4xMDc1LDAgLTAuMjE1LDAgLTAuMzIyNSwwYy0wLjEwNzUsMCAtMC4yMTUsMCAtMC4zMjI1LDBjLTAuMTA3NSwwIC0wLjIxNSwwIC0wLjMyMjUsMHpNMTMzLjE5MjUsODIuNTZjLTEuODk0NjksMC4yNjg3NSAtMy4yMjUsMi4wMjkwNiAtMi45NTYyNSwzLjkyMzc1YzAuMjY4NzUsMS44OTQ2OSAyLjAyOTA2LDMuMjI1IDMuOTIzNzUsMi45NTYyNWgyMC42NGMxLjIzNjI1LDAuMDEzNDQgMi4zOTE4OCwtMC42MzE1NiAzLjAyMzQ0LC0xLjcwNjU2YzAuNjE4MTMsLTEuMDc1IDAuNjE4MTMsLTIuMzkxODcgMCwtMy40NjY4N2MtMC42MzE1NiwtMS4wNzUgLTEuNzg3MTksLTEuNzIgLTMuMDIzNDQsLTEuNzA2NTZoLTIwLjY0Yy0wLjEwNzUsMCAtMC4yMTUsMCAtMC4zMjI1LDBjLTAuMTA3NSwwIC0wLjIxNSwwIC0wLjMyMjUsMGMtMC4xMDc1LDAgLTAuMjE1LDAgLTAuMzIyNSwwek01MS42LDExNi41M2MtMC43NzkzNywwLjEwNzUgLTEuNTA1LDAuNDk3MTkgLTIuMDQyNSwxLjA3NWwtMTQuNjIsMTQuNjJjLTEuMDIxMjUsMC44MzMxMyAtMS40OTE1NiwyLjE2MzQ0IC0xLjE5NTk0LDMuNDUzNDRjMC4yOTU2MiwxLjI3NjU2IDEuMzAzNDQsMi4yODQzOCAyLjU4LDIuNThjMS4yOSwwLjI5NTYzIDIuNjIwMzEsLTAuMTc0NjkgMy40NTM0NCwtMS4xOTU5NGwxNC42MiwtMTQuNjJjMS4wMjEyNSwtMC45ODA5NCAxLjMzMDMxLC0yLjQ5OTM3IDAuNzc5MzgsLTMuODAyODFjLTAuNTM3NSwtMS4zMDM0NCAtMS44NDA5NCwtMi4xMzY1NiAtMy4yNTE4OCwtMi4xMDk2OWMtMC4xMDc1LDAgLTAuMjE1LDAgLTAuMzIyNSwwek0xMTkuMzI1LDExNi41M2MtMS4yOSwwLjIyODQ0IC0yLjMyNDY5LDEuMTY5MDYgLTIuNjg3NSwyLjQxODc1Yy0wLjM2MjgxLDEuMjYzMTMgMC4wMTM0NCwyLjYwNjg4IDAuOTY3NSwzLjQ5Mzc1bDE0LjYyLDE0LjYyYzAuODMzMTMsMS4wMjEyNSAyLjE2MzQ0LDEuNDkxNTYgMy40NTM0NCwxLjE5NTk0YzEuMjc2NTYsLTAuMjk1NjIgMi4yODQzOCwtMS4zMDM0NCAyLjU4LC0yLjU4YzAuMjk1NjMsLTEuMjkgLTAuMTc0NjksLTIuNjIwMzEgLTEuMTk1OTQsLTMuNDUzNDRsLTE0LjYyLC0xNC42MmMtMC42NDUsLTAuNjg1MzEgLTEuNTMxODcsLTEuMDYxNTYgLTIuNDcyNSwtMS4wNzVjLTAuMTA3NSwwIC0wLjIxNSwwIC0wLjMyMjUsMGMtMC4xMDc1LDAgLTAuMjE1LDAgLTAuMzIyNSwwek04NS42Nzc1LDEzMC42MTI1Yy0wLjE0NzgxLDAuMDI2ODggLTAuMjk1NjIsMC4wNjcxOSAtMC40MywwLjEwNzVjLTEuNTk5MDYsMC4zNjI4MSAtMi43Mjc4MSwxLjgwMDYzIC0yLjY4NzUsMy40NHYyMC42NGMtMC4wMTM0NCwxLjIzNjI1IDAuNjMxNTYsMi4zOTE4OCAxLjcwNjU2LDMuMDIzNDRjMS4wNzUsMC42MTgxMyAyLjM5MTg3LDAuNjE4MTMgMy40NjY4NywwYzEuMDc1LC0wLjYzMTU2IDEuNzIsLTEuNzg3MTkgMS43MDY1NiwtMy4wMjM0NHYtMjAuNjRjMC4wNDAzMSwtMC45OTQzNyAtMC4zNjI4MSwtMS45NDg0NCAtMS4wNzUsLTIuNjIwMzFjLTAuNzI1NjIsLTAuNjg1MzEgLTEuNzA2NTYsLTEuMDIxMjUgLTIuNjg3NSwtMC45MjcxOXoiPjwvcGF0aD48L2c+PC9nPjwvc3ZnPg=="/></button>
      <button id="dark_dimmed" class="" onclick="setActive(this); setTheme('dark', 'light', 'dark_dimmed')"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAxNzIgMTcyIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0ibm9uZSIgZm9udC13ZWlnaHQ9Im5vbmUiIGZvbnQtc2l6ZT0ibm9uZSIgdGV4dC1hbmNob3I9Im5vbmUiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48cGF0aCBkPSJNMCwxNzJ2LTE3MmgxNzJ2MTcyeiIgZmlsbD0ibm9uZSI+PC9wYXRoPjxnIGZpbGw9IiMwMDAwMDAiPjxwYXRoIGQ9Ik02OC43NDYyNSw2LjgzMjk3Yy0xLjg5NzIyLDAuMDI5NjYgLTMuNDEyMjMsMS41ODk3NiAtMy4zODYyNSwzLjQ4NzAzdjE3LjJjLTAuMDE3NTQsMS4yNDA1OSAwLjYzNDI1LDIuMzk0NTIgMS43MDU4LDMuMDE5OTNjMS4wNzE1NSwwLjYyNTQxIDIuMzk2ODQsMC42MjU0MSAzLjQ2ODM5LDBjMS4wNzE1NSwtMC42MjU0MSAxLjcyMzM1LC0xLjc3OTM1IDEuNzA1OCwtMy4wMTk5M3YtMTcuMmMwLjAxMjczLC0wLjkyOTgzIC0wLjM1MTQ5LC0xLjgyNTIyIC0xLjAwOTY3LC0yLjQ4MjE0Yy0wLjY1ODE5LC0wLjY1NjkyIC0xLjU1NDI3LC0xLjAxOTQyIC0yLjQ4NDA4LC0xLjAwNDg5ek0xNTguMTcyODEsMTAuMjg2NDFjLTAuODkzNzEsMC4wMjY2MyAtMS43NDE5NCwwLjQwMDE0IC0yLjM2NSwxLjA0MTQxbC0xNDQuNDgsMTQ0LjQ4Yy0wLjg5ODY2LDAuODYyODEgLTEuMjYwNjYsMi4xNDQwNCAtMC45NDYzOSwzLjM0OTU1YzAuMzE0MjcsMS4yMDU1MSAxLjI1NTcsMi4xNDY5NCAyLjQ2MTIxLDIuNDYxMjFjMS4yMDU1MSwwLjMxNDI3IDIuNDg2NzQsLTAuMDQ3NzMgMy4zNDk1NSwtMC45NDYzOWwxNDQuNDgsLTE0NC40OGMxLjAxNzQyLC0wLjk4ODk3IDEuMzIzMzMsLTIuNTAxMTEgMC43NzAzMywtMy44MDc3OGMtMC41NTI5OSwtMS4zMDY2NyAtMS44NTE0NSwtMi4xMzk4MyAtMy4yNjk3MSwtMi4wOTh6TTI3LjQxMjUsMjMuOTcyNWMtMS4zOTk4MiwwLjAwMDM3IC0yLjY1OTg0LDAuODQ4ODQgLTMuMTg2NTgsMi4xNDU3N2MtMC41MjY3NCwxLjI5NjkzIC0wLjIxNTE2LDIuNzgzNyAwLjc4Nzk5LDMuNzYwMDFsMTIuMTY3NjYsMTIuMTY3NjZjMC44NjI4MSwwLjg5ODY3IDIuMTQ0MDQsMS4yNjA2OCAzLjM0OTU2LDAuOTQ2NDFjMS4yMDU1MiwtMC4zMTQyNyAyLjE0Njk2LC0xLjI1NTcgMi40NjEyMiwtMi40NjEyMmMwLjMxNDI3LC0xLjIwNTUyIC0wLjA0Nzc0LC0yLjQ4Njc1IC0wLjk0NjQxLC0zLjM0OTU2bC0xMi4xNjc2NiwtMTIuMTY3NjZjLTAuNjQ3NjUsLTAuNjY1NzUgLTEuNTM2OTgsLTEuMDQxMzUgLTIuNDY1NzgsLTEuMDQxNDF6TTExMC4wODY3MiwyMy45NzI1Yy0wLjg5MzcxLDAuMDI2NjMgLTEuNzQxOTQsMC40MDAxNCAtMi4zNjUsMS4wNDE0MWwtMTIuMTY3NjUsMTIuMTY3NjZjLTAuODk4NjcsMC44NjI4MSAtMS4yNjA2OCwyLjE0NDA0IC0wLjk0NjQxLDMuMzQ5NTZjMC4zMTQyNywxLjIwNTUyIDEuMjU1NywyLjE0Njk2IDIuNDYxMjIsMi40NjEyMmMxLjIwNTUyLDAuMzE0MjcgMi40ODY3NSwtMC4wNDc3NCAzLjM0OTU2LC0wLjk0NjQxbDEyLjE2NzY2LC0xMi4xNjc2NmMxLjAxNzQyLC0wLjk4ODk3IDEuMzIzMzMsLTIuNTAxMTEgMC43NzAzMywtMy44MDc3OGMtMC41NTMsLTEuMzA2NjcgLTEuODUxNDYsLTIuMTM5ODMgLTMuMjY5NzEsLTIuMDk4ek02OC44MDY3MiwzNy44NjY4N2MtNy45Mjc5MSwwIC0xNS44NTkyLDMuMDE5NjggLTIxLjg5NjQsOS4wNTY4OGMtNS44NTE0NCw1Ljg0NDU2IC05LjA3MDMxLDEzLjYyNjY0IC05LjA3MDMxLDIxLjg5NjRjMCw4LjI2NjMyIDMuMjIyMzEsMTYuMDM4NDEgOS4wNzAzMSwyMS44ODI5N2MxLjczNzIsMS43MzcyIDMuNjM4MjMsMy4xODYxNCA1LjY0Mzc1LDQuNDE0MjJsNS4wNTI1LC01LjA1MjVjLTIuMDk0OTYsLTEuMDg3MDQgLTQuMDc0MDQsLTIuNDY4MjYgLTUuODMxODgsLTQuMjI2MWMtNC41NDc2OCwtNC41NDc2OCAtNy4wNTQ2OSwtMTAuNTg5MjQgLTcuMDU0NjksLTE3LjAxODZjMCwtNi40MzI4IDIuNTA3MDEsLTEyLjQ4NDM1IDcuMDU0NjksLTE3LjAzMjAzYzQuNjk1NiwtNC42OTIxNiAxMC44NTczOSwtNy4wNDEyNSAxNy4wMjUzMSwtNy4wNDEyNWM2LjE2NzkyLDAgMTIuMzI5NzEsMi4zNDkwOSAxNy4wMjUzMSw3LjA0MTI1YzEuNzM3MiwxLjczNzIgMy4xMzUyOSwzLjcwOTU1IDQuMjM5NTMsNS44MjUxNWw1LjA1MjUsLTUuMDUyNWMtMS4yNDE4NCwtMi4wMTkyOCAtMi43MDQzOCwtMy45MjA0NyAtNC40MjA5NCwtNS42MzcwM2MtNi4wMzU0OCwtNi4wMzcyIC0xMy45NjE3OCwtOS4wNTY4OCAtMjEuODg5NjksLTkuMDU2ODh6TTE1NC43NDYyNSw1NC45OTI5N2MtMS44OTcyMiwwLjAyOTY2IC0zLjQxMjIzLDEuNTg5NzYgLTMuMzg2MjUsMy40ODcwM3YzLjQ0aC0zLjQ0Yy0xLjI0MDU5LC0wLjAxNzU0IC0yLjM5NDUyLDAuNjM0MjUgLTMuMDE5OTMsMS43MDU4Yy0wLjYyNTQxLDEuMDcxNTUgLTAuNjI1NDEsMi4zOTY4NCAwLDMuNDY4MzljMC42MjU0MSwxLjA3MTU1IDEuNzc5MzUsMS43MjMzNSAzLjAxOTkzLDEuNzA1OGgzLjQ0djMuNDRjLTAuMDE3NTQsMS4yNDA1OSAwLjYzNDI1LDIuMzk0NTIgMS43MDU4LDMuMDE5OTNjMS4wNzE1NSwwLjYyNTQxIDIuMzk2ODQsMC42MjU0MSAzLjQ2ODM5LDBjMS4wNzE1NSwtMC42MjU0MSAxLjcyMzM1LC0xLjc3OTM1IDEuNzA1OCwtMy4wMTk5M3YtMy40NGgzLjQ0YzEuMjQwNTksMC4wMTc1NCAyLjM5NDUyLC0wLjYzNDI1IDMuMDE5OTMsLTEuNzA1OGMwLjYyNTQxLC0xLjA3MTU1IDAuNjI1NDEsLTIuMzk2ODQgMCwtMy40NjgzOWMtMC42MjU0MSwtMS4wNzE1NSAtMS43NzkzNSwtMS43MjMzNSAtMy4wMTk5MywtMS43MDU4aC0zLjQ0di0zLjQ0YzAuMDEyNzMsLTAuOTI5ODMgLTAuMzUxNDksLTEuODI1MjIgLTEuMDA5NjcsLTIuNDgyMTRjLTAuNjU4MTksLTAuNjU2OTIgLTEuNTU0MjcsLTEuMDE5NDIgLTIuNDg0MDgsLTEuMDA0ODl6TTEwLjMyLDY1LjM2Yy0xLjI0MDU5LC0wLjAxNzU0IC0yLjM5NDUyLDAuNjM0MjUgLTMuMDE5OTMsMS43MDU4Yy0wLjYyNTQxLDEuMDcxNTUgLTAuNjI1NDEsMi4zOTY4NCAwLDMuNDY4MzljMC42MjU0MSwxLjA3MTU1IDEuNzc5MzUsMS43MjMzNSAzLjAxOTkzLDEuNzA1OGgxNy4yYzEuMjQwNTksMC4wMTc1NCAyLjM5NDUyLC0wLjYzNDI1IDMuMDE5OTMsLTEuNzA1OGMwLjYyNTQxLC0xLjA3MTU1IDAuNjI1NDEsLTIuMzk2ODQgMCwtMy40NjgzOWMtMC42MjU0MSwtMS4wNzE1NSAtMS43NzkzNSwtMS43MjMzNSAtMy4wMTk5MywtMS43MDU4ek0xMjksODZjLTE5LjkwODU2LDAgLTM2LjEyLDE2LjIxMTQ0IC0zNi4xMiwzNi4xMmMwLDE5LjkwODU2IDE2LjIxMTQ0LDM2LjEyIDM2LjEyLDM2LjEyYzE5LjkwODU2LDAgMzYuMTIsLTE2LjIxMTQ0IDM2LjEyLC0zNi4xMmMwLC0wLjgxNjIzIC0wLjA2OTAxLC0xLjQ1Mzg0IC0wLjA5NDA2LC0xLjkyMTU2Yy0wLjA4LC0xLjQ5MjY4IC0xLjExNDcyLC0yLjc2MjkgLTIuNTYwMzksLTMuMTQzMWMtMS40NDU2NywtMC4zODAyIC0yLjk3MTQxLDAuMjE2NjQgLTMuNzc1MzksMS40NzY4NWMtMy4zNjIxMSw1LjI1ODc2IC05LjIwNjc2LDguNzQ3ODEgLTE1LjkzMDE1LDguNzQ3ODFjLTEwLjQ5MDY2LDAgLTE4LjkyLC04LjQyOTM0IC0xOC45MiwtMTguOTJjMCwtNi43MjM0IDMuNDg5MDYsLTEyLjU2ODA1IDguNzQ3ODEsLTE1LjkzMDE1YzEuMjYwMjEsLTAuODAzOTggMS44NTcwNCwtMi4zMjk3MiAxLjQ3Njg1LC0zLjc3NTM5Yy0wLjM4MDIsLTEuNDQ1NjcgLTEuNjUwNDEsLTIuNDgwMzkgLTMuMTQzMSwtMi41NjAzOWMtMC40Njc3MywtMC4wMjUwNiAtMS4xMDUzMywtMC4wOTQwNiAtMS45MjE1NiwtMC4wOTQwNnpNMTIxLjU4MjUsOTQuMzcxNTZjLTIuNzIzNDUsNC4wODcwMSAtNC42MjI1LDguNzIzMDEgLTQuNjIyNSwxMy45ODg0NGMwLDE0LjIwODU0IDExLjU5MTQ2LDI1LjggMjUuOCwyNS44YzUuMjY1NDMsMCA5LjkwMTQzLC0xLjg5OTA1IDEzLjk4ODQ0LC00LjYyMjVjLTMuMzM0OTEsMTIuNDgyMjggLTE0LjE5MDk4LDIxLjgyMjUgLTI3Ljc0ODQ0LDIxLjgyMjVjLTE2LjE5MDgsMCAtMjkuMjQsLTEzLjA0OTIgLTI5LjI0LC0yOS4yNGMwLC0xMy41NTc0NiA5LjM0MDIyLC0yNC40MTM1MyAyMS44MjI1LC0yNy43NDg0NHpNMzkuNTQ2NTYsOTQuNTEyNjVjLTAuODkzNzEsMC4wMjY2MyAtMS43NDE5NCwwLjQwMDE0IC0yLjM2NSwxLjA0MTQxbC0xMi4xNjc2NiwxMi4xNjc2NWMtMC44OTg2MywwLjg2MjgyIC0xLjI2MDYxLDIuMTQ0MDMgLTAuOTQ2MzQsMy4zNDk1M2MwLjMxNDI3LDEuMjA1NSAxLjI1NTY5LDIuMTQ2OTEgMi40NjExOSwyLjQ2MTE5YzEuMjA1NSwwLjMxNDI3IDIuNDg2NzEsLTAuMDQ3NzEgMy4zNDk1MywtMC45NDYzNGwxMi4xNjc2NiwtMTIuMTY3NjZjMS4wMTc0MiwtMC45ODg5NyAxLjMyMzMzLC0yLjUwMTExIDAuNzcwMzQsLTMuODA3NzhjLTAuNTUyOTksLTEuMzA2NjcgLTEuODUxNDUsLTIuMTM5ODMgLTMuMjY5NzEsLTIuMDk4ek03NS42MjYyNSwxNDQuNDMyOTdjLTEuODk3MjIsMC4wMjk2NiAtMy40MTIyMywxLjU4OTc2IC0zLjM4NjI1LDMuNDg3MDN2My40NGgtMy40NGMtMS4yNDA1OSwtMC4wMTc1NCAtMi4zOTQ1MiwwLjYzNDI1IC0zLjAxOTkzLDEuNzA1OGMtMC42MjU0MSwxLjA3MTU1IC0wLjYyNTQxLDIuMzk2ODQgMCwzLjQ2ODM5YzAuNjI1NDEsMS4wNzE1NSAxLjc3OTM1LDEuNzIzMzUgMy4wMTk5MywxLjcwNThoMy40NHYzLjQ0Yy0wLjAxNzU0LDEuMjQwNTkgMC42MzQyNSwyLjM5NDUyIDEuNzA1OCwzLjAxOTkzYzEuMDcxNTUsMC42MjU0MSAyLjM5Njg0LDAuNjI1NDEgMy40NjgzOSwwYzEuMDcxNTUsLTAuNjI1NDEgMS43MjMzNSwtMS43NzkzNSAxLjcwNTgsLTMuMDE5OTN2LTMuNDRoMy40NGMxLjI0MDU5LDAuMDE3NTQgMi4zOTQ1MiwtMC42MzQyNSAzLjAxOTkzLC0xLjcwNThjMC42MjU0MSwtMS4wNzE1NSAwLjYyNTQxLC0yLjM5Njg0IDAsLTMuNDY4MzljLTAuNjI1NDEsLTEuMDcxNTUgLTEuNzc5MzUsLTEuNzIzMzUgLTMuMDE5OTMsLTEuNzA1OGgtMy40NHYtMy40NGMwLjAxMjczLC0wLjkyOTgzIC0wLjM1MTQ5LC0xLjgyNTIyIC0xLjAwOTY3LC0yLjQ4MjE0Yy0wLjY1ODE5LC0wLjY1NjkyIC0xLjU1NDI3LC0xLjAxOTQyIC0yLjQ4NDA4LC0xLjAwNDg5eiI+PC9wYXRoPjwvZz48L2c+PC9zdmc+"/></button>
      <button id="dark" class="active" onclick="setActive(this); setTheme('dark', 'light', 'dark')"><img src="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAxNzIgMTcyIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0ibm9uZSIgZm9udC13ZWlnaHQ9Im5vbmUiIGZvbnQtc2l6ZT0ibm9uZSIgdGV4dC1hbmNob3I9Im5vbmUiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48cGF0aCBkPSJNMCwxNzJ2LTE3MmgxNzJ2MTcyeiIgZmlsbD0ibm9uZSI+PC9wYXRoPjxnIGZpbGw9IiMwMDAwMDAiPjxwYXRoIGQ9Ik01NC43MTc1LDIwLjUzMjVjLTAuMTQ3ODEsMC4wMjY4OCAtMC4yOTU2MiwwLjA2NzE5IC0wLjQzLDAuMTA3NWMtMS41OTkwNiwwLjM2MjgxIC0yLjcyNzgxLDEuODAwNjMgLTIuNjg3NSwzLjQ0djMuNDRoLTMuNDRjLTAuMTA3NSwwIC0wLjIxNSwwIC0wLjMyMjUsMGMtMS44OTQ2OSwwLjA5NDA2IC0zLjM3MjgxLDEuNzA2NTYgLTMuMjc4NzUsMy42MDEyNWMwLjA5NDA2LDEuODk0NjkgMS43MDY1NiwzLjM3MjgxIDMuNjAxMjUsMy4yNzg3NWgzLjQ0djMuNDRjLTAuMDEzNDQsMS4yMzYyNSAwLjYzMTU2LDIuMzkxODggMS43MDY1NiwzLjAyMzQ0YzEuMDc1LDAuNjE4MTMgMi4zOTE4NywwLjYxODEzIDMuNDY2ODcsMGMxLjA3NSwtMC42MzE1NiAxLjcyLC0xLjc4NzE5IDEuNzA2NTYsLTMuMDIzNDR2LTMuNDRoMy40NGMxLjIzNjI1LDAuMDEzNDQgMi4zOTE4OCwtMC42MzE1NiAzLjAyMzQ0LC0xLjcwNjU2YzAuNjE4MTMsLTEuMDc1IDAuNjE4MTMsLTIuMzkxODcgMCwtMy40NjY4N2MtMC42MzE1NiwtMS4wNzUgLTEuNzg3MTksLTEuNzIgLTMuMDIzNDQsLTEuNzA2NTZoLTMuNDR2LTMuNDRjMC4wNDAzMSwtMC45OTQzNyAtMC4zNjI4MSwtMS45NDg0NCAtMS4wNzUsLTIuNjIwMzFjLTAuNzI1NjIsLTAuNjg1MzEgLTEuNzA2NTYsLTEuMDIxMjUgLTIuNjg3NSwtMC45MjcxOXpNOTcuMzk1LDQ0LjYxMjVsLTQuNTE1LDAuNjQ1Yy0yMy4zMjc1LDMuMzMyNSAtNDEuMjgsMjMuMzk0NjkgLTQxLjI4LDQ3LjYyMjVjMCwyNi41NTI1IDIxLjYwNzUsNDguMTYgNDguMTYsNDguMTZjMjQuMjI3ODEsMCA0NC4yNzY1NiwtMTcuOTUyNSA0Ny42MjI1LC00MS4yOGwwLjY0NSwtNC41MTVsLTQuNTE1LDAuNjQ1Yy0yLjAwMjE5LDAuMjgyMTkgLTMuOTY0MDYsMC40MyAtNS45MTI1LDAuNDNjLTIyLjg0Mzc1LDAgLTQxLjI4LC0xOC40MzYyNSAtNDEuMjgsLTQxLjI4YzAsLTEuOTQ4NDQgMC4xNDc4MSwtMy45MTAzMSAwLjQzLC01LjkxMjV6TTg5LjU0NzUsNTMuNDI3NWMtMC4wMjY4NywwLjU1MDk0IC0wLjEwNzUsMS4wNDgxMyAtMC4xMDc1LDEuNjEyNWMwLDI2LjU1MjUgMjEuNjA3NSw0OC4xNiA0OC4xNiw0OC4xNmMwLjU2NDM4LDAgMS4wNjE1NiwtMC4wODA2MiAxLjYxMjUsLTAuMTA3NWMtNC42MDkwNiwxNy43NjQzOCAtMjAuMjIzNDQsMzEuMDY3NSAtMzkuNDUyNSwzMS4wNjc1Yy0yMi44NDM3NSwwIC00MS4yOCwtMTguNDM2MjUgLTQxLjI4LC00MS4yOGMwLC0xOS4yMjkwNiAxMy4zMDMxMywtMzQuODU2ODcgMzEuMDY3NSwtMzkuNDUyNXpNMjcuMTk3NSw2MS44MTI1Yy0wLjE0NzgxLDAuMDI2ODggLTAuMjk1NjIsMC4wNjcxOSAtMC40MywwLjEwNzVjLTEuNTk5MDYsMC4zNjI4MSAtMi43Mjc4MSwxLjgwMDYzIC0yLjY4NzUsMy40NGMtMC4xMDc1LDAgLTAuMjE1LDAgLTAuMzIyNSwwYy0xLjg5NDY5LDAuMDk0MDYgLTMuMzcyODEsMS43MDY1NiAtMy4yNzg3NSwzLjYwMTI1YzAuMDk0MDYsMS44OTQ2OSAxLjcwNjU2LDMuMzcyODEgMy42MDEyNSwzLjI3ODc1Yy0wLjAxMzQ0LDEuMjM2MjUgMC42MzE1NiwyLjM5MTg4IDEuNzA2NTYsMy4wMjM0NGMxLjA3NSwwLjYxODEzIDIuMzkxODcsMC42MTgxMyAzLjQ2Njg3LDBjMS4wNzUsLTAuNjMxNTYgMS43MiwtMS43ODcxOSAxLjcwNjU2LC0zLjAyMzQ0YzEuMjM2MjUsMC4wMTM0NCAyLjM5MTg4LC0wLjYzMTU2IDMuMDIzNDQsLTEuNzA2NTZjMC42MTgxMywtMS4wNzUgMC42MTgxMywtMi4zOTE4NyAwLC0zLjQ2Njg3Yy0wLjYzMTU2LC0xLjA3NSAtMS43ODcxOSwtMS43MiAtMy4wMjM0NCwtMS43MDY1NmMwLjA0MDMxLC0wLjk5NDM3IC0wLjM2MjgxLC0xLjk0ODQ0IC0xLjA3NSwtMi42MjAzMWMtMC43MjU2MiwtMC42ODUzMSAtMS43MDY1NiwtMS4wMjEyNSAtMi42ODc1LC0wLjkyNzE5eiI+PC9wYXRoPjwvZz48L2c+PC9zdmc+"/></button>
    </div>
    
    <div class="container-xl" style="margin-top: 4rem; margin-bottom:4rem;">
      <div class="markdown-body">
        <h1>
<a id="tp-docker-n2---découverte-des-dockerfile" class="anchor" href="#tp-docker-n2---d%C3%A9couverte-des-dockerfile" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TP Docker n°2 - Découverte des Dockerfile</h1>
<p>Dans ce TP nous aborderons une notion primoridale de Docker : la configuration d'une image grâce au Dockerfile.<br>
Je n'aborderait pas toutes les subtilités du Dockerfile donc je vous invite à parcourir la <a href="https://docs.docker.com/engine/reference/builder/" rel="nofollow">documentation officielle</a> tout au long de ce TP pour en découvrir d'avantage.</p>
<br> 
<h2>
<a id="sommaire" class="anchor" href="#sommaire" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sommaire</h2>
<ul>
<li><a href="#1-introduction-au-dockerfile">1. Introduction au Dockerfile</a></li>
<li><a href="#2-utilisation-dune-image-pr%C3%A9-existante">2. Utilisation d'une image pré-existante</a></li>
<li><a href="#3-d%C3%A9finir-des-ports">3. Définir des ports</a></li>
<li><a href="#4-copier-des-fichiers-dans-le-conteneur">4. Copier des fichiers dans le conteneur</a></li>
</ul>
<br> 
<h2>
<a id="1-introduction-au-dockerfile" class="anchor" href="#1-introduction-au-dockerfile" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1. Introduction au Dockerfile</h2>
<p>Un Dockerfile est comme son nom l'indique un fichier utilisé par Docker pour générer une image.<br>
Docker lit les instructions de ce fichier et construit notre image personnalisée grâceà la commande :</p>
<div class="highlight highlight-source-shell"><pre>docker build -t NOM_IMAGE CHEMIN_DOCKERFILE </pre></div>
<p>De là nous pouvons utiliser cette image pour créer nos conteneurs.<br></p>
<br> 
<h2>
<a id="2-utilisation-dune-image-pré-existante" class="anchor" href="#2-utilisation-dune-image-pr%C3%A9-existante" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2. Utilisation d'une image pré-existante</h2>
<p>Tout comme avec la commande <code>docker run</code>, on peut utiliser une image disponible sur le <a href="https://hub.docker.com/search?type=image" rel="nofollow">Docker Hub</a> pour nous faciliter le travail.<br>
Pour cela il suffit de :</p>
<blockquote>
<p><strong>Télécharger le projet <a href="https://github.com/guillaume-elambert/stage-docker">https://github.com/guillaume-elambert/stage-docker</a>.</strong></p>
</blockquote>
<br> 
<blockquote>
<p><strong>Se placer dans le dossier "encode-explorer" et supprimer le contenu du fichier nommé "Dockerfile".</strong></p>
</blockquote>
<br> 
<blockquote>
<p><strong>Saisir le contenu suivant dans le Dockerfile.</strong></p>
</blockquote>
<div class="highlight highlight-source-dockerfile"><pre><span class="pl-k">FROM</span> image </pre></div>
<p>Donc dans notre cas</p>
<div class="highlight highlight-source-dockerfile"><pre><span class="pl-k">FROM</span> php:apache </pre></div>
<p>Jusqu'ici nous pouvons déduire que le résultat sera le même qu'avec la commande vue dans le TP précédent. Pour rappel elle permet de créer un conteneur où Apache et PHP sont installés mais où il n'y ni contenu ni configuration pour le serveur Apache.</p>
<div class="highlight highlight-source-shell"><pre>docker run php:apache </pre></div>
<blockquote>
<p><strong>Construire l'image grâce au Dockerfile.</strong></p>
</blockquote>
<details> 
<summary>Solution </summary> 
<p>En admettant que vous vous trouvez dans le dossier "encode-explorer", la commande pour construire l'image est :</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> On créé l'image nommée "encode-explorer" à partir du Dockerfile contenu dans le fichier courrant </span>
$ docker build -t encode-explorer <span class="pl-c1">.</span> </pre></div>
</details> 
<br> 
<blockquote>
<p><strong>Créer le conteneur basé sur l'image créée.</strong></p>
</blockquote>
<details> 
<summary>Solution </summary> 
<p>La commande pour créer le conteneur basé sur notre image "encode-explorer" est :</p>
<div class="highlight highlight-source-shell"><pre>$ docker run encode-explorer </pre></div>
</details> 
<br> 
<h2>
<a id="3-définir-des-ports" class="anchor" href="#3-d%C3%A9finir-des-ports" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>3. Définir des ports</h2>
<p>Pour rappel nous avons vu que le conteneur Apache à besoin que nous lui fournissions un port.<br>
Nous le faisions avec la commande :</p>
<div class="highlight highlight-source-shell"><pre>docker run -p 8080:80 php:apache </pre></div>
<p>Ainsi nous obtenions un conteneur configuré avec notre serveur Apache et nous pouvions y accéder via <a href="http://localhost:8080/" rel="nofollow">http://localhost:8080/</a>.</p>
<p><strong>Le Dockerfile ne permet pas se passer de l'option <code>-p PORT_HOTE:PORT_CONTENEUR</code></strong> mais seulement de signaler que le conteneur à besoin que nous lui attribuions un port. Cette partie sert donc de documentation pour les utilisateurs.<br>
Pour cela nous remplaçons le contenu de notre Dockerfile par :</p>
<div class="highlight highlight-source-dockerfile"><pre><span class="pl-k">FROM</span> php:apache 
<span class="pl-k">EXPOSE</span> 80 </pre></div>
<p>Comme vous pouvez le constater il n'est question ici que d'un seul port.<br>
En effet on ne définit dans le Dockerfile que le port du conteneur que l'on ouvre. Ainsi les utilisateurs sont libres de choisir quel port de leur machine sera lié au port 80 du conteneur.<br></p>
<br> 
<p>Donc il sera <strong>toujours</strong> nécessaire de spécifier l'option <code>-p PORT_HOTE:PORT_CONTENEUR</code> mais l'utilisateur peut consulter la liste des ports dont le conteneur à besoin et choisir librement comment il les réparti sur sa machine.<br>
Je vous invite à consulter <a href="https://docs.docker.com/engine/reference/builder/#expose" rel="nofollow">la documentation officielle</a> pour de plus amples informations.</p>
<br> 
<h2>
<a id="4-copier-des-fichiers-dans-le-conteneur" class="anchor" href="#4-copier-des-fichiers-dans-le-conteneur" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>4. Copier des fichiers dans le conteneur</h2>
<p>Dans le TP précédent nous avions réussi à créer la page d'accueil de notre serveur en "bidouillant" une commande à exécuter lors du lancement de notre conteneur :</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> On créé un conteneur Apache avec PHP </span>
<span class="pl-c"><span class="pl-c">#</span> On définit le fait que le port 8080 de notre machine sera lié au port 80 du conteneur </span>
<span class="pl-c"><span class="pl-c">#</span> On passe une commande au conteneur qui : </span>
<span class="pl-c"><span class="pl-c">#</span>   1- Lance bash et exécute la chaîne de caractère comme une commande </span>
<span class="pl-c"><span class="pl-c">#</span>   2- Écrit "Hello World ! &lt;?php phpinfo(); ?&gt;" dans le fichier /var/www/html/index.php du conteneur </span>
<span class="pl-c"><span class="pl-c">#</span>   3- Lance Apache </span>
docker run -d -p 8080:80 php:apache bash -c <span class="pl-s"><span class="pl-pds">"</span>echo <span class="pl-cce">\"</span>Hello World ! &lt;?php phpinfo(); ?&gt;<span class="pl-cce">\"</span> &gt; index.php; apache2-foreground<span class="pl-pds">"</span></span> </pre></div>
<p>Le problème ici est que, en plus d'être très barbare, cette manière de faire ne permet pas de copier ou créer facilement tout un projet dans le conteneur.<br>
Pour pallier cela, le Dockerfile peut contenir l'instruction <a href="https://docs.docker.com/engine/reference/builder/#copy" rel="nofollow"><code>COPY</code></a>.<br>
Ainsi pour copier le contenu d'un dossier "/chemin/vers/mon/dossier/source" on obtient le Dockerfile suivant :</p>
<div class="highlight highlight-source-dockerfile"><pre><span class="pl-k">FROM</span> php:apache 
<span class="pl-k">EXPOSE</span> 80 
<span class="pl-k">COPY</span> /chemin/vers/mon/dossier/source destination/dans/le/conteneur </pre></div>
<p>Dans notre cas :</p>
<div class="highlight highlight-source-dockerfile"><pre><span class="pl-k">FROM</span> php:apache 
<span class="pl-k">EXPOSE</span> 80 
<span class="pl-k">COPY</span> /chemin/vers/le/dossier/encode-explorer /var/www/html </pre></div>
<p>Ou avec des chemins relatifs. Si le fichiers Dockerfile se trouve dans le dossier "encode-explorer", on obtient :</p>
<div class="highlight highlight-source-dockerfile"><pre><span class="pl-k">FROM</span> php:apache 
<span class="pl-k">EXPOSE</span> 80 
<span class="pl-k">COPY</span> . . </pre></div>
<hr>
<blockquote>
<p><strong>Note :</strong><br></p>
</blockquote>
<p>Le premier point est le chemin vers le dossier courrant. <br>
Le second correspond au dossier <code>/var/www/html</code>. En effet l'image <code>php:apache</code> définit le point de départ du conteneur comme étant <code>/var/www/html</code>. Ainsi toutes les commandes que nous lui passons sont effectuées relativement à ce dossier.<br>
Pour plus d'informations, <a href="https://docs.docker.com/engine/reference/builder/#workdir" rel="nofollow">se renseigner sur l'instruction <code>WORKDIR</code></a> et observer <a href="https://hub.docker.com/layers/php/library/php/apache/images/sha256-0421c31c13f932a99c4bede6ca065a4fccf97f193b4c1f28db327dc405456622?context=explore" rel="nofollow">le contenu du Dockerfile de l'image <code>php:apache</code></a>.</p>
<hr>
<br> 
<blockquote>
<p><strong>Supprimer tous les conteneurs grâce à la commande suivante.</strong></p>
</blockquote>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> Supprime l'ensemble des conteneurs </span>
$ docker rm <span class="pl-s"><span class="pl-pds">`</span>docker ps -aq<span class="pl-pds">`</span></span> </pre></div>
<br> 
<blockquote>
<p><strong>Construire l'image grâce au Dockerfile puis créer un nouveau conteneur que vous nommerez "encode-explorer" basé sur celle-ci.</strong></p>
</blockquote>
<details> 
<summary>Solution </summary> 
<p>En admettant que vous vous trouvez dans le dossier "encode-explorer" les commandes sont :</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> On créé l'image nommée "encode-explorer" à partir du Dockerfile contenu dans le fichier courrant </span>
$ docker build -t encode-explorer <span class="pl-c1">.</span> 
 
<span class="pl-c"><span class="pl-c">#</span> Cette commande permet de créer un conteneur basé sur l'image "encode-explorer". </span>
<span class="pl-c"><span class="pl-c">#</span> On lit le port 8080 de notre machine avec le port 80 du conteneur. </span>
<span class="pl-c"><span class="pl-c">#</span> On lui donne le nom "encode-explorer". </span>
<span class="pl-c"><span class="pl-c">#</span> Le nommage des conteneurs permet de faciliter leur manipulation. </span>
$ docker run -p 8080:80 encode-explorer --name encode-explorer </pre></div>
<br> 
<p><g-emoji class="g-emoji" alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">⚠️</g-emoji>  <strong> ATTENTION </strong>  <g-emoji class="g-emoji" alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">⚠️</g-emoji><br>
Pour rappel il est toujours nécessaire de spécifier l'attribution de port lors de la création du conteneur, même si nous l'avons spécifier dans le Dockerfile.<br>
Ne pas oublier !</p>
</details> 
<br> 
<blockquote>
<p><strong>Vérifier que nous avons bien les fichiers dans notre conteneur.</strong></p>
</blockquote>
<p>Pour cela il faut utiliser la commande <code>docker exec</code> (voir <a href="https://docs.docker.com/engine/reference/commandline/exec/" rel="nofollow">la documentation officielle</a> ou <code>docker exec --help</code>).<br>
Plusieurs options s'offrent à nous pour vérifier que nous obtenons bien le résultat escompté :</p>
<ol>
<li>Nous spécifions une commande pour lister les fichiers telle que <code>ls</code>
</li>
<li>Nous spécifions une commande qui nous permet de rentrer dans le conteneur et de le manipuler grâce à un terminal.</li>
</ol>
<br> 
<p>Pour la première solution on utilise la commande :</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> On exécute la commande "ls -l" sur le conteneur nommé "encode-explorer". </span>
<span class="pl-c"><span class="pl-c">#</span> L'option "-t" permet de retourner visuellement le résultat de la commande. </span>
$ docker <span class="pl-c1">exec</span> -t encode-explorer ls -l </pre></div>
<br> 
<p>Pour la seconde solution :</p>
<div class="highlight highlight-source-shell"><pre><span class="pl-c"><span class="pl-c">#</span> On exécute la commande "bash" sur le conteneur nommé "encode-explorer" (c.à.d qu'on lance un terminal). </span>
<span class="pl-c"><span class="pl-c">#</span> L'option "-i" permet de définir que nous allons interagir avec le conteneur (ici via le terminal bash). </span>
<span class="pl-c"><span class="pl-c">#</span> L'option "-t" permet de retourner visuellement le résultat des commandes passées au sein du conteneur. </span>
$ docker <span class="pl-c1">exec</span> -i -t encode-explorer bash 
 
<span class="pl-c"><span class="pl-c">#</span> Un terminal se lance. </span>
<span class="pl-c"><span class="pl-c">#</span> Vous remarquerez que comme vous êtes dans le conteneur vous avez des identifiants différents. </span>
<span class="pl-c"><span class="pl-c">#</span> Vous remarquerez également que nous sommes bien dans le dossiers /var/www/html comme vu un peu plus haut. </span>
 
<span class="pl-c"><span class="pl-c">#</span> On peut désormait lancer notre commande "ls -l" </span>
root@e071acc58f08:/var/www/html$ ls -l 
 
<span class="pl-c"><span class="pl-c">#</span> Puis on sort du conteneur grâce à la commande "exit" </span>
root@e071acc58f08:/var/www/html$ <span class="pl-c1">exit</span> </pre></div>
<br> 
<p>Après avoir réalisé l'une des deux solutions présentées nous pouvons constater que nous obtenons bel et bien un conteneur qui contient les fichiers de notre dossier "encode-explorer".</p>
      </div>
    </div>
  </body>
</html>
